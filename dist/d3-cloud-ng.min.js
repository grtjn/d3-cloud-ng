!function(){"use strict";angular.module("d3.cloud",["d3.cloud.tpls"])}(),function(){"use strict";function t(t){return{link:function(e){angular.element(t).bind("resize",function(){e.$broadcast("d3-cloud:window-resized")})}}}angular.module("d3.cloud").directive("d3CloudResize",["$window",t]),t.$inject=[]}(),function(){"use strict";function t(t){t.$watch("words",function(e,o){var n=[],r=0;if(e)if(n=t.filterWords(e),t.cloud){if(o)if(o.length!==n.length)r=1;else for(var l=0;l<n.length;l++)!r&n[l].name!==o[l].name&n[l].score!==o[l].score&&(r=1);else r=1;r&&t.updateCloud(n)}else t.createCloud(n);else t.cloud&&t.updateCloud([])},!0),t.filterWords=function(e){for(var o=[],n=0;n<e.length;n++)t.filter(e[n])&&o.push(e[n]);return o}}angular.module("d3.cloud").controller("d3CloudController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){return{restrict:"E",replace:"true",scope:{events:"=?",font:"@",ignoreList:"=?",filter:"&?",padding:"@",rotate:"&?",slopeBase:"@",slopeFactor:"@",words:"="},templateUrl:function(){return"/d3-cloud-ng/d3-cloud.html"},controller:"d3CloudController",controllerAs:"ctrl",link:function(e,o,n){function r(t){var n=e.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20(),l=d3.select(o[0]).select("svg").selectAll("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(t);l.enter().append("text"),l.style("font-size",function(t){return t.size+"px"}).style("font-family",e.font).style("fill",function(e,o){return t[o].color?t[o].color:r(o)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(e.events).text(function(t){return t.text}),l.exit().remove()}function l(t){var n=e.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20();d3.select(o[0]).append("svg").attr("width",n[0]).attr("height",n[1]).append("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",e.font).style("fill",function(e,o){return t[o].color?t[o].color:r(o)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(e.events).text(function(t){return t.text})}e.events=e.events||{},e.font=e.font||"Impact",e.ignoreList=e.ignoreList||[],e.ignoreList.length>0&&t.warn("You are using deprecated ignoreList. Please use custom filter function instead."),e.filter=e.filter||function(t){return e.ignoreList.indexOf(t.name)===-1};var c=n.padding?Number(e.padding):5,d=e.rotate&&function(t,o){return e.rotate({word:e.words[o]})}||function(){return 90*~~(2*Math.random())-45},i=n.slopeBase?Number(e.slopeBase):2,u=n.slopeFactor?Number(e.slopeFactor):30;e.$on("d3-cloud:window-resized",function(t,o){var n=e.filterWords(e.words);e.updateCloud(n)}),e.createCloud=function(t){var n=o[0].clientWidth+0,r=o[0].clientHeight+0,a=0,s=1,f=1;t.map(function(t){a>t.score&&(a=t.score),s<t.score&&(s=t.score)}),s!==a&&(f=u/(s-a)),e.cloud=d3.layout.cloud().size([n,r]),e.cloud.words(t.map(function(t){var e={text:t.name,size:t.score*f+i};return t.color&&(e.color=t.color),e})).padding(c).rotate(d).font(e.font).fontSize(function(t){return t.size}).on("end",l).start()},e.updateCloud=function(t){var n=o[0].clientHeight+0,l=o[0].clientWidth+0,a=0,s=1,f=1;t.map(function(t){a>t.score&&(a=t.score),s<t.score&&(s=t.score)}),s!==a&&(f=u/(s-a)),e.cloud=d3.layout.cloud().size([l,n]),e.cloud.words(t.map(function(t){var e={text:t.name,size:t.score*f+i};return t.color&&(e.color=t.color),e})).padding(c).rotate(d).font(e.font).fontSize(function(t){return t.size}).on("end",r).start()},!e.cloud&&e.words&&e.words.length&&e.createCloud(e.words)}}}angular.module("d3.cloud").directive("d3Cloud",["$log",t]),t.$inject=[]}(),function(t){try{t=angular.module("d3.cloud.tpls")}catch(e){t=angular.module("d3.cloud.tpls",[])}t.run(["$templateCache",function(t){t.put("/d3-cloud-ng/d3-cloud.html",'<div class="d3-cloud">\n  <div class="cloud"> \n\n  <div ng-if="words.length === 0">\n    No results to display.\n  </div>\n</div>\n')}])}();