!function(){"use strict";angular.module("d3.cloud",["d3.cloud.tpls"])}(),function(){"use strict";function t(t){t.$watch("words",function(e,o){var n=[],r=[],l=0;if(e){for(var n=0;n<e.length;n++)t.filter(e[n])&&r.push(e[n]);if(t.cloud){if(o)if(o.length!==r.length)l=1;else for(n=0;n<r.length;n++)!l&r[n].name!==o[n].name&r[n].score!==o[n].score&&(l=1);else l=1;l&&t.updateCloud(r)}else t.createCloud(r)}else t.cloud&&t.updateCloud([])},!0)}angular.module("d3.cloud").controller("d3CloudController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){return{restrict:"E",replace:"true",scope:{events:"=?",font:"@",ignoreList:"=?",filter:"&?",padding:"@",rotate:"&?",slopeBase:"@",slopeFactor:"@",words:"="},templateUrl:function(){return"/d3-cloud-ng/d3-cloud.html"},controller:"d3CloudController",controllerAs:"ctrl",link:function(e,o,n){function r(t){var n=e.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20(),l=d3.select(o[0]).select("svg").selectAll("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(t);l.enter().append("text"),l.style("font-size",function(t){return t.size+"px"}).style("font-family",e.font).style("fill",function(e,o){return t[o].color?t[o].color:r(o)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(e.events).text(function(t){return t.text}),l.exit().remove()}function l(t){var n=e.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20();d3.select(o[0]).append("svg").attr("width",n[0]).attr("height",n[1]).append("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(t).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",e.font).style("fill",function(e,o){return t[o].color?t[o].color:r(o)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(e.events).text(function(t){return t.text})}e.events=e.events||{},e.font=e.font||"Impact",e.ignoreList=e.ignoreList||[],e.ignoreList.length>0&&t.warn("You are using deprecated ignoreList. Please use custom filter function instead."),e.filter=e.filter||function(t){return-1===e.ignoreList.indexOf(t.name)};var c=n.padding?Number(e.padding):5,a=e.rotate&&function(t,o){return e.rotate({word:e.words[o]})}||function(){return 90*~~(2*Math.random())-45},s=n.slopeBase?Number(e.slopeBase):2,d=n.slopeFactor?Number(e.slopeFactor):30;e.createCloud=function(t){var n=o[0].clientWidth+0,r=o[0].clientHeight+0,u=0,i=1,f=1;t.map(function(t){u>t.score&&(u=t.score),i<t.score&&(i=t.score)}),i!==u&&(f=d/(i-u)),e.cloud=d3.layout.cloud().size([n,r]),e.cloud.words(t.map(function(t){var e={text:t.name,size:t.score*f+s};return t.color&&(e.color=t.color),e})).padding(c).rotate(a).font(e.font).fontSize(function(t){return t.size}).on("end",l).start()},e.updateCloud=function(t){var n=o[0].clientHeight+0,l=o[0].clientWidth+0,u=0,i=1,f=1;t.map(function(t){u>t.score&&(u=t.score),i<t.score&&(i=t.score)}),i!==u&&(f=d/(i-u)),e.cloud=d3.layout.cloud().size([l,n]),e.cloud.words(t.map(function(t){var e={text:t.name,size:t.score*f+s};return t.color&&(e.color=t.color),e})).padding(c).rotate(a).font(e.font).fontSize(function(t){return t.size}).on("end",r).start()},!e.cloud&&e.words&&e.words.length&&e.createCloud(e.words)}}}angular.module("d3.cloud").directive("d3Cloud",["$log",t]),t.$inject=[]}(),function(t){try{t=angular.module("d3.cloud.tpls")}catch(e){t=angular.module("d3.cloud.tpls",[])}t.run(["$templateCache",function(t){t.put("/d3-cloud-ng/d3-cloud.html",'<div class="d3-cloud">\n  <div class="cloud"> \n\n  <div ng-if="words.length === 0">\n    No results to display.\n  </div>\n</div>\n')}])}();