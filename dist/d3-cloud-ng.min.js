!function(){"use strict";angular.module("d3.cloud",["d3.cloud.tpls"])}(),function(){"use strict";function t(t){t.$watch("words",function(e,n){var o=[],r=[],l="",c=l.split(","),u=0;if(e){if(n)if(n.length!==e.length)u=1;else for(o=0;o<e.length;o++)!u&e[o].name!==n[o].name&e[o].score!==n[o].score&&(u=1);else u=1;for(o=0;o<e.length;o++)c.indexOf(e[o].name)<1&&r.push(e[o]);u&&(t.cloud?t.updateCloud(r):t.createCloud(r))}else t.cloud&&t.updateCloud(r)})}angular.module("d3.cloud").controller("d3CloudController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(){return{restrict:"E",replace:"true",scope:{words:"="},templateUrl:"/d3-cloud-ng/d3-cloud.html",controller:"d3CloudController",controllerAs:"ctrl",link:function(t,e,n){function o(e){var n=t.cloud.size(),o=d3.scale.category20(),r=d3.select(".cloud").select("svg").selectAll("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(e);r.enter().append("text"),r.style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,e){return o(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}),r.exit().remove()}function r(e){var n=t.cloud.size(),o=d3.scale.category20();d3.select(".cloud").append("svg").attr("width",n[0]).attr("height",n[1]).append("g").attr("transform","translate("+n[0]/2+","+n[1]/2+")").selectAll("text").data(e).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,e){return o(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text})}t.createCloud=function(n){var o=e[0].clientWidth+0,l=e[0].clientWidth+0,c=0,u=1,d=1;n.map(function(t){c>t.score&&(c=t.score),u<t.score&&(u=t.score)}),u!==c&&(d=30/(u-c)),t.cloud=d3.layout.cloud().size([o,l]),t.cloud.words(n.map(function(t){return{text:t.name,size:t.score*d+2}})).padding(0).rotate(function(){return 0}).font("Impact").fontSize(function(t){return t.size}).on("end",r).start()},t.updateCloud=function(n){var r=e[0].clientWidth+0,l=e[0].clientWidth+0,c=0,u=1,d=1;n.map(function(t){c>t.score&&(c=t.score),u<t.score&&(u=t.score)}),u!==c&&(d=30/(u-c)),t.cloud=d3.layout.cloud().size([r,l]),t.cloud.words(n.map(function(t){return{text:t.name,size:t.score*d+2}})).padding(5).rotate(function(){return 0}).font("Impact").fontSize(function(t){return t.size}).on("end",o).start()},!t.cloud&&t.words&&t.words.length&&t.createCloud(t.words)}}}angular.module("d3.cloud").directive("d3Cloud",t),t.$inject=[]}(),function(t){try{t=angular.module("d3.cloud.tpls")}catch(e){t=angular.module("d3.cloud.tpls",[])}t.run(["$templateCache",function(t){t.put("/d3-cloud-ng/d3-cloud.html",'<div class="d3-cloud">\n  <div class="cloud"> \n\n  <div ng-if="words.length === 0">\n    No results to display.\n  </div>\n</div>\n')}])}();