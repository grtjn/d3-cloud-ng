!function(){"use strict";angular.module("d3.cloud",["d3.cloud.tpls"])}(),function(){"use strict";function t(t){t.$watch("words",function(e,o){var n=[],r=[],l=t.ignoreList,a=0;if(e){if(o)if(o.length!==e.length)a=1;else for(n=0;n<e.length;n++)!a&e[n].name!==o[n].name&e[n].score!==o[n].score&&(a=1);else a=1;for(n=0;n<e.length;n++)l.indexOf(e[n].name)<1&&r.push(e[n]);a&&(t.cloud?t.updateCloud(r):t.createCloud(r))}else t.cloud&&t.updateCloud(r)})}angular.module("d3.cloud").controller("d3CloudController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(){return{restrict:"E",replace:"true",scope:{font:"@",ignoreList:"=",padding:"@",rotate:"&",slopeBase:"@",slopeFactor:"@",words:"="},templateUrl:"/d3-cloud-ng/d3-cloud.html",controller:"d3CloudController",controllerAs:"ctrl",link:function(t,e,o){function n(e){var o=t.cloud.size(),n=d3.scale.category20(),r=d3.select(".cloud").select("svg").selectAll("g").attr("transform","translate("+o[0]/2+","+o[1]/2+")").selectAll("text").data(e);r.enter().append("text"),r.style("font-size",function(t){return t.size+"px"}).style("font-family",t.font).style("fill",function(t,e){return n(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}),r.exit().remove()}function r(e){var o=t.cloud.size(),n=d3.scale.category20();d3.select(".cloud").append("svg").attr("width",o[0]).attr("height",o[1]).append("g").attr("transform","translate("+o[0]/2+","+o[1]/2+")").selectAll("text").data(e).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",t.font).style("fill",function(t,e){return n(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text})}t.font=t.font||"Impact",t.ignoreList=t.ignoreList||[],t.padding=t.padding||5,t.rotate=t.rotate||function(){return 90*~~(2*Math.random())-45},t.slopeBase=t.slopeBase||2,t.slopeFactor=t.slopeFactor||30,t.createCloud=function(o){var n=e[0].clientWidth+0,l=e[0].clientWidth+0,a=0,c=1,d=1;o.map(function(t){a>t.score&&(a=t.score),c<t.score&&(c=t.score)}),c!==a&&(d=t.slopeFactor/(c-a)),t.cloud=d3.layout.cloud().size([n,l]),t.cloud.words(o.map(function(e){return{text:e.name,size:e.score*d+t.slopeBase}})).padding(t.padding).rotate(t.rotate).font(t.font).fontSize(function(t){return t.size}).on("end",r).start()},t.updateCloud=function(o){var r=e[0].clientWidth+0,l=e[0].clientWidth+0,a=0,c=1,d=1;o.map(function(t){a>t.score&&(a=t.score),c<t.score&&(c=t.score)}),c!==a&&(d=t.slopeFactor/(c-a)),t.cloud=d3.layout.cloud().size([r,l]),t.cloud.words(o.map(function(e){return{text:e.name,size:e.score*d+t.slopeBase}})).padding(t.padding).rotate(t.rotate).font(t.font).fontSize(function(t){return t.size}).on("end",n).start()},!t.cloud&&t.words&&t.words.length&&t.createCloud(t.words)}}}angular.module("d3.cloud").directive("d3Cloud",t),t.$inject=[]}(),function(t){try{t=angular.module("d3.cloud.tpls")}catch(e){t=angular.module("d3.cloud.tpls",[])}t.run(["$templateCache",function(t){t.put("/d3-cloud-ng/d3-cloud.html",'<div class="d3-cloud">\n  <div class="cloud"> \n\n  <div ng-if="words.length === 0">\n    No results to display.\n  </div>\n</div>\n')}])}();